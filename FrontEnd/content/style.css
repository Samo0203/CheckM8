/* Container */
#arrow-extension-overlay {
    z-index: 9999;
    pointer-events: auto; 
}

/* Control Panel */
#arrow-controls {
    position: fixed;
    top: 60px; 
    right: 10px;
    background: rgba(0,0,0,0.95);
    padding: 12px;
    border-radius: 8px;
    width: 240px; 
    max-height: 80vh;
    display: flex;
    flex-direction: column;
    gap: 8px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.6);
}

#nav-input {
    background: #333;
    border: 1px solid #555;
    color: white;
    padding: 6px;
    border-radius: 4px;
    font-family: monospace;
    width: 100%;
    box-sizing: border-box;
}

.btn-row { display: flex; gap: 5px; justify-content: space-between; }
.nav-btn {
    background: #444; border: 1px solid #666; color: white;
    padding: 5px; border-radius: 4px; cursor: pointer; font-size: 11px; flex: 1;
}
.nav-btn:hover { background: #666; }
.nav-btn:disabled { opacity: 0.3; cursor: default; }

#btn-hint-toggle { background: #8e44ad; color: white; font-weight: bold; }
#btn-hint-toggle.active { background: #2ecc71; }

#move-list {
    background: #151515; border: 1px solid #333; border-radius: 4px;
    padding: 8px; flex-grow: 1; overflow-y: auto;
    font-family: 'Noto Sans', sans-serif; font-size: 13px; color: #bbb; min-height: 100px;
}

.notation-line { padding: 2px 0; line-height: 1.5; border-bottom: 1px solid #222; }
.notation-turn { color: #666; font-weight: bold; margin-right: 6px; }
.notation-move { cursor: pointer; color: #ecf0f1; font-weight: 500; padding: 2px 5px; border-radius: 3px; }
.notation-move:hover { background: #34495e; }
.notation-active { background: #2ecc71; color: black !important; font-weight: 800; }
.variation-link { cursor: pointer; color: #3498db; font-size: 11px; margin-left: 4px; }
.variation-link:hover { text-decoration: underline; color: #5dade2; }
.variation-container { display: block; padding-left: 28px; color: #777; font-size: 11px; }

/* SVG & Board */
#arrow-canvas { width: 100%; height: 100%; display: block; }

#board-dimmer {
    fill: rgba(0,0,0,0.85); /* Dark background for Hint Mode */
}

/* Ghost Pieces - Use Unicode Chess Symbols */
.ghost-piece {
    font-family: "Segoe UI Symbol", "Arial Unicode MS", sans-serif; 
    font-size: 50px; 
    text-anchor: middle;
    dominant-baseline: central; /* Better vertical centering */
    pointer-events: none;
    font-weight: normal;
}
.piece-w { fill: #e0c0a0; stroke: #000; stroke-width: 1px; } /* White Pieces */
.piece-b { fill: #404040; stroke: #fff; stroke-width: 1px; } /* Black Pieces */

/* Arrows */
.custom-arrow { stroke-width: 1.8%; stroke-opacity: 0.9; fill: none; stroke-linecap: round; }
.arrow-green { stroke: #2ecc71; }
.arrow-yellow { stroke: #f1c40f; }
.arrow-ghost { stroke: #bdc3c7; stroke-dasharray: 4; opacity: 0.5; }
.link-line { stroke-width: 2px; stroke-opacity: 0.7; }
.move-ring { cursor: pointer; fill: rgba(0,0,0,0.5); stroke-width: 3px; stroke-opacity: 0.9; }
.arrow-number { font-size: 12px; font-weight: 800; fill: white; pointer-events: none; text-anchor: middle; dominant-baseline: middle; }
.head-count { font-size: 10px; font-weight: bold; fill: yellow; stroke: black; stroke-width: 2px; paint-order: stroke; pointer-events: none; text-anchor: middle; dominant-baseline: middle; }